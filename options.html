<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>Meet Summarizer 設定</title>
</head>
<body style="font-family:sans-serif;max-width:900px;margin:20px">
  <h2>⚙ Meet Summarizer 設定</h2>

  <h3>Gemini APIキー</h3>
  <div style="font-size:12px;opacity:.8">
    画面共有で見えないよう、ポップアップには表示しません。ここで設定します。
  </div>

  <div style="display:flex;gap:8px;margin-top:8px">
    <input id="key" type="password" placeholder="Gemini API Key" style="flex:1;padding:6px" />
    <button id="toggle">表示</button>
    <button id="saveKey">保存</button>
  </div>

  <hr style="margin:20px 0"/>

  <h3>保存先（会話ログ / 要約）</h3>
  <div style="font-size:12px;opacity:.8;margin-bottom:8px">
    Chrome拡張はセキュリティ上、任意フォルダへ自動保存できません。<br>
    「Downloads配下のサブフォルダ」か「毎回保存先を選ぶ」方式になります。
  </div>

  <div style="display:flex;gap:8px;align-items:center;">
    <label style="min-width:180px;">Downloads配下フォルダ名</label>
    <input id="saveFolder" placeholder="例：MeetSummarizer" style="flex:1;padding:6px" />
    <button id="saveFolderBtn">保存</button>
  </div>

  <div style="margin-top:10px;">
    <label>
      <input type="checkbox" id="saveAs" />
      毎回「名前を付けて保存」を出す（任意の保存先を選べる）
    </label>
    <button id="saveAsBtn" style="margin-left:8px;">保存</button>
  </div>

  <div id="saveStatus" style="margin-top:10px;font-size:12px;"></div>

  <hr style="margin:20px 0"/>

  <h3>履歴（最新50件）</h3>
  <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap">
    <button id="refresh">更新</button>
    <button id="clearAll">全消去</button>
    <input id="search" placeholder="検索（meetingKey / 日付）" style="flex:1;min-width:220px;padding:6px" />
    <button id="clearSearch">クリア</button>
  </div>
  <div id="historyStatus" style="margin-top:8px;font-size:12px;opacity:.8"></div>

  <div id="list" style="margin-top:12px"></div>

  <script src="options.js"></script>
</body>
</html>
